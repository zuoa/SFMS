<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="特性进度">
	<meta name="author" content="y00486">

	<title>创建特性</title>

	<!-- Bootstrap Core CSS -->
	<link href="{{ static_url("css/bootstrap.min.css") }}" rel="stylesheet">

	<!-- Custom CSS -->
	<style>
		body {
			color: #808080;
			background-color:#FEFEFE;
		}

		.title-header{
			background-color:#EEE;
			padding-top:50px;
			padding-bottom:50px;
			border-bottom:1px solid #FFF;
			margin-bottom:50px;
		}
	</style>

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
        <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

    </head>

    <body>

    	<header class="title-header">
    		<div class="container">
    			<div class="row">
    				<div class="col-lg-12">
    					<h1>创建特性</h1>
    				</div>
    			</div>
    		</div>
    	</header>
    	<!-- Page Content -->
    	<div class="container">
    		<div class="row">
    			<div class="form-group col-lg-6">
                    <input type="text" id="input_feature_name" class="form-control input-lg" placeholder="特性名称" style="margin:16px">
                    <textarea id="input_feature_desc" class="form-control input-lg" rows="3" placeholder="特性描述"  style="margin:16px"></textarea>
                    <button  id="btn_create" class="btn btn-info btn-lg"  style="margin:16px"><span class="glyphicon glyphicon-plus"></span> 创建特性</button>
                </div>
    		</div>

    		<!-- /.row -->

    	</div>
    	<!-- /.container -->

    	<!-- jQuery Version 1.11.0 -->
    	<script src="{{ static_url("js/jquery-1.11.0.js") }}"></script>

    	<!-- Bootstrap Core JavaScript -->
    	<script src="{{ static_url("js/bootstrap.min.js") }}"></script>

    	<script type="text/javascript">

    		var options = {  
    			"placement" : "bottom", 
    			"trigger" : "manual", 
    			"title" : "特性名称不允许为空",
    		} ;  
    		$("#input_feature_name").tooltip(options) ; 

    		
    		$("#btn_create").click(function()
    		{

    			$("#input_feature_name").tooltip('hide');
    			var name = $("#input_feature_name").val().trim();
    			if (name.length < 1)
    			{

    				$("#input_feature_name").tooltip('show');

    				return
    			}

    			$.post("/create", 
    			{
    				name:$("#input_feature_name").val(),
                    desc:$("#input_feature_desc").val()
    			}, 
    			function(data) {

    				var o=JSON.parse(data);

                    window.location.href="/" + o.id + "/edit";

    			});

    		});

    	</script>

    </body>

    </html>
